"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();gsap.registerPlugin(ScrollTrigger);var video=document.querySelector("video"),parentVideo=video.parentElement,main=document.querySelector("#main"),logo=document.querySelector("#logo"),getFirstChild=void 0,linkMenuParent=document.querySelector(".nav-item"),links=[].concat(_toConsumableArray(document.body.querySelectorAll(".nav-link-opt"))),langs=[].concat(_toConsumableArray(document.body.querySelectorAll(".lang"))),socialContainer=document.querySelector(".social-container"),_navBar=document.querySelector(".navbar"),App=function(){function e(){_classCallCheck(this,e),this.init(),this.navBar()}return _createClass(e,[{key:"init",value:function(){var e=this;video.addEventListener("ended",function(){e.showAndHide(parentVideo,main)})}},{key:"showAndHide",value:function(e,t){gsap.to(e,{duration:.5,opacity:0,ease:Power1.easeOuteaseOut,onComplete:function(){e.remove(),gsap.to("#heroH1, #heroH2",2,{opacity:1,stagger:.5,scale:1,ease:Elastic.easeOut.config(1,1),delay:.5})}}),gsap.to(t,{duration:.8,display:"block",opacity:1,visibility:"visible",delay:.2,ease:Power1.easeInOut,onComplete:function(e){gsap.set(".blockquote",{autoAlpha:0,scale:1.4}),gsap.to(".blockquote",{autoAlpha:1,scale:1,duration:1,scrollTrigger:{trigger:"#quoteBlock",toggleActions:"restart",end:"-=300",scrub:!0}}),gsap.set(".animateBox",{y:-80,autoAlpha:0}),gsap.to(".animateBox",{autoAlpha:1,y:0,scrollTrigger:{trigger:"#whoWeAre",toggleActions:"restart",start:"-=400",end:"-=200",scrub:!0}})}})}},{key:"navBar",value:function(){window.addEventListener("scroll",function(e){e.preventDefault(),e.stopPropagation(),window.pageYOffset>0?(socialContainer.classList.add("fixed-bottom"),_navBar.classList.add("fixed-top"),logo.classList.add("resizeLogo")):(socialContainer.classList.remove("fixed-bottom"),_navBar.classList.remove("fixed-top"),logo.classList.remove("resizeLogo"))}),getFirstChild=linkMenuParent.firstChild.classList.add("active"),links.map(function(e){e.addEventListener("click",function(t){t.preventDefault();for(var o in links)links[o].classList.remove("active");e.classList.add("active"),console.log(e),"Concreto"===e.innerText&&alert("test")})}),fetch("../assets/js/lang.json",{}).then(function(e){return e.json()}).then(function(e){langs.map(function(t){t.addEventListener("click",function(t){t.preventDefault(),console.log(t.currentTarget),"esp"===t.currentTarget.getAttribute("data-language")?(console.log("Espanol"),window.location.hash="esp",heroH1.innerText=e.quieneSomos.title,heroH2.innerText=e.quieneSomos.par1,quote.innerHTML=e.quieneSomos.quoteEs,whoWeAreArticle.innerHTML=e.quieneSomos.whoWeAreArticleEs,concreteBoxLeft.innerHTML=e.concreto.boxLeftEs,concreteBoxRightTitle.innerHTML=e.concreto.concreteBoxRightTitleEs,concretoTitle.innerHTML=e.concreto.concretoTitleEs):(console.log("English"),window.location.hash="eng",heroH1.innerText=e.whoWeAre.title,heroH2.innerText=e.whoWeAre.par1,quote.innerHTML=e.whoWeAre.quoteEn,whoWeAreArticle.innerHTML=e.whoWeAre.whoWeAreArticleEn,concreteBoxLeft.innerHTML=e.concrete.boxLeftEn,concreteBoxRightTitle.innerHTML=e.concrete.concreteBoxRightTitleEn,concretoTitle.innerHTML=e.concrete.concretoTitleEn)})})})}}]),e}(),loadGlobalFunction=function(){return window.start=new App};loadGlobalFunction(),$(".videoModal").on("hide.bs.modal",function(e){var t=$(e.delegateTarget).find("video"),o=t.attr("src");t.css("opacity","1"),t.attr("src","files/img/video/video_macro.mp4"),t.attr("src",o)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImdzYXAiLCJyZWdpc3RlclBsdWdpbiIsIlNjcm9sbFRyaWdnZXIiLCJ2aWRlbyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhcmVudFZpZGVvIiwicGFyZW50RWxlbWVudCIsIm1haW4iLCJsb2dvIiwiZ2V0Rmlyc3RDaGlsZCIsImxpbmtNZW51UGFyZW50IiwibGlua3MiLCJib2R5IiwicXVlcnlTZWxlY3RvckFsbCIsImxhbmdzIiwic29jaWFsQ29udGFpbmVyIiwibmF2QmFyIiwiQXBwIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImluaXQiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93QW5kSGlkZSIsImgiLCJzIiwidG8iLCJkdXJhdGlvbiIsIm9wYWNpdHkiLCJlYXNlIiwiUG93ZXIxIiwiZWFzZU91dGVhc2VPdXQiLCJvbkNvbXBsZXRlIiwicmVtb3ZlIiwic3RhZ2dlciIsInNjYWxlIiwiRWxhc3RpYyIsImVhc2VPdXQiLCJjb25maWciLCJkZWxheSIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5IiwiZWFzZUluT3V0IiwiZSIsInNldCIsImF1dG9BbHBoYSIsInNjcm9sbFRyaWdnZXIiLCJ0cmlnZ2VyIiwidG9nZ2xlQWN0aW9ucyIsImVuZCIsInNjcnViIiwieSIsInN0YXJ0Iiwid2luZG93IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJwYWdlWU9mZnNldCIsImNsYXNzTGlzdCIsImFkZCIsImZpcnN0Q2hpbGQiLCJtYXAiLCJ4IiwibGluayIsImNvbnNvbGUiLCJsb2ciLCJpbm5lclRleHQiLCJhbGVydCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwibG9jYXRpb24iLCJoYXNoIiwiaGVyb0gxIiwicXVpZW5lU29tb3MiLCJ0aXRsZSIsImhlcm9IMiIsInBhcjEiLCJxdW90ZSIsImlubmVySFRNTCIsInF1b3RlRXMiLCJ3aG9XZUFyZUFydGljbGUiLCJ3aG9XZUFyZUFydGljbGVFcyIsImNvbmNyZXRlQm94TGVmdCIsImNvbmNyZXRvIiwiYm94TGVmdEVzIiwiY29uY3JldGVCb3hSaWdodFRpdGxlIiwiY29uY3JldGVCb3hSaWdodFRpdGxlRXMiLCJjb25jcmV0b1RpdGxlIiwiY29uY3JldG9UaXRsZUVzIiwid2hvV2VBcmUiLCJxdW90ZUVuIiwid2hvV2VBcmVBcnRpY2xlRW4iLCJjb25jcmV0ZSIsImJveExlZnRFbiIsImNvbmNyZXRlQm94UmlnaHRUaXRsZUVuIiwiY29uY3JldG9UaXRsZUVuIiwibG9hZEdsb2JhbEZ1bmN0aW9uIiwiJCIsIm9uIiwiJGlmIiwiZGVsZWdhdGVUYXJnZXQiLCJmaW5kIiwic3JjIiwiYXR0ciIsImNzcyJdLCJtYXBwaW5ncyI6InFnQkFBQUEsTUFBQUMsZUFBQUMsY0FDQSxJQUFBQyxPQUFBQyxTQUFBQyxjQUFBLFNBQ0FDLFlBQUFILE1BQUFJLGNBQ0FDLEtBQUFKLFNBQUFDLGNBQUEsU0FDQUksS0FBQUwsU0FBQUMsY0FBQSxTQUtBSyxrQkFBQUEsR0FDQUMsZUFBQVAsU0FBQUMsY0FBQSxhQUNBTyxTQUFBQSxPQUFBQSxtQkFBQVIsU0FBQVMsS0FBQUMsaUJBQUEsbUJBQ0FDLFNBQUFBLE9BQUFBLG1CQUFBWCxTQUFBUyxLQUFBQyxpQkFBQSxXQUdBRSxnQkFBQVosU0FBQUMsY0FBQSxxQkFDQVksUUFBQWIsU0FBQUMsY0FBQSxXQUVBYSxlQUNBLFFBQUFBLEtBQUFDLGdCQUFBQyxLQUFBRixHQUNBRSxLQUFBQyxPQUNBRCxLQUFBSCw2REFHQSxHQUFBSyxHQUFBRixJQUNBakIsT0FBQW9CLGlCQUFBLFFBQUEsV0FDQUQsRUFBQUUsWUFBQWxCLFlBQUFFLDRDQUdBaUIsRUFBQUMsR0FDQTFCLEtBQUEyQixHQUFBRixHQUNBRyxTQUFBLEdBQ0FDLFFBQUEsRUFDQUMsS0FBQUMsT0FBQUMsZUFDQUMsV0FBQSxXQUVBUixFQUFBUyxTQUNBbEMs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QUEsU0FDQUMsRUFBQUgsRUFBQUksS0FBQSxNQUNBSixHQUFBSyxJQUFBLFVBQUEsS0FDQUwsRUFBQUksS0FBQSxNQUFBLG1DQUNBSixFQUFBSSxLQUFBLE1BQUFEIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcik7XG5jb25zdCB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKTtcbmNvbnN0IHBhcmVudFZpZGVvID0gdmlkZW8ucGFyZW50RWxlbWVudDtcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5cIik7XG5jb25zdCBsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dvXCIpO1xuLy8gY29uc3QgYmxvY2txdW90ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2txdW90ZVwiKTtcbi8vIGNvbnNvbGUubG9nKGxvZ28pO1xuXG4vL0hFQURFUiBTZWN0aW9uXG5sZXQgZ2V0Rmlyc3RDaGlsZDtcbmNvbnN0IGxpbmtNZW51UGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXYtaXRlbVwiKTsgLy9QYXJlbnRcbmNvbnN0IGxpbmtzID0gWy4uLmRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbGluay1vcHRcIildO1xuY29uc3QgbGFuZ3MgPSBbLi4uZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiLmxhbmdcIildO1xuXG4vL25hdkJhclxuY29uc3Qgc29jaWFsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zb2NpYWwtY29udGFpbmVyXCIpO1xuY29uc3QgbmF2QmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZiYXJcIik7XG5cbmNsYXNzIEFwcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLm5hdkJhcigpO1xuXG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3dBbmRIaWRlKHBhcmVudFZpZGVvLCBtYWluKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNob3dBbmRIaWRlKGgsIHMpIHtcbiAgICAgICAgZ3NhcC50byhoLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMC41LFxuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIGVhc2U6IFBvd2VyMS5lYXNlT3V0ZWFzZU91dCxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvL1F1aWVuZXMgU29tb3NcbiAgICAgICAgICAgICAgICBoLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGdzYXAudG8oXCIjaGVyb0gxLCAjaGVyb0gyXCIsIDIsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2dlcjogMC41LFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogRWxhc3RpYy5lYXNlT3V0LmNvbmZpZygxLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IC41LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGdzYXAudG8ocywge1xuICAgICAgICAgICAgZHVyYXRpb246IDAuOCxcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBcInZpc2libGVcIixcbiAgICAgICAgICAgIGRlbGF5OiAwLjIsXG4gICAgICAgICAgICBlYXNlOiBQb3dlcjEuZWFzZUluT3V0LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvL0FuaW1hdGVkIFF1b3RlIFNlY3Rpb25cbiAgICAgICAgICAgICAgICBnc2FwLnNldCgnLmJsb2NrcXVvdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDEuNCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGdzYXAudG8oXCIuYmxvY2txdW90ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBcIiNxdW90ZUJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYXJrZXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczogXCJyZXN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydDogXCItPTEwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBcIi09MzAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3J1YjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvL0FuaW1hdGVkIFFVSUVORVMgU09NT1M/IFNlY3Rpb25cbiAgICAgICAgICAgICAgICBnc2FwLnNldCgnLmFuaW1hdGVCb3gnLCB7XG4gICAgICAgICAgICAgICAgICAgIHk6IC04MCxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBnc2FwLnRvKCcuYW5pbWF0ZUJveCcsIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b0FscGhhOiAxLFxuICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBcIiN3aG9XZUFyZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFya2VyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6IFwicmVzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwiLT00MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogXCItPTIwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NydWI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmF2QmFyKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cod2luZG93LnNjcm9sbFkpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IDApIHtcbiAgICAgICAgICAgICAgICBzb2NpYWxDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImZpeGVkLWJvdHRvbVwiKTtcbiAgICAgICAgICAgICAgICBuYXZCYXIuY2xhc3NMaXN0LmFkZChcImZpeGVkLXRvcFwiKTtcbiAgICAgICAgICAgICAgICBsb2dvLmNsYXNzTGlzdC5hZGQoXCJyZXNpemVMb2dvXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb2NpYWxDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImZpeGVkLWJvdHRvbVwiKTtcbiAgICAgICAgICAgICAgICBuYXZCYXIuY2xhc3NMaXN0LnJlbW92ZShcImZpeGVkLXRvcFwiKTtcbiAgICAgICAgICAgICAgICBsb2dvLmNsYXNzTGlzdC5yZW1vdmUoXCJyZXNpemVMb2dvXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL0FDVElWRSBDTEFTUyBBREQvUkVNT1ZFXG4gICAgICAgIGdldEZpcnN0Q2hpbGQgPSBsaW5rTWVudVBhcmVudC5maXJzdENoaWxkLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIGxpbmtzLm1hcCgoeCkgPT4ge1xuICAgICAgICAgICAgeC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbGluayBpbiBsaW5rcykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rc1tsaW5rXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coeCk7XG4gICAgICAgICAgICAgICAgaWYgKHguaW5uZXJUZXh0ID09PSBcIkNvbmNyZXRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJ0ZXN0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL01VTFRJIExBTkdVQUdFXG4gICAgICAgIGZldGNoKFwiLi4vYXNzZXRzL2pzL2xhbmcuanNvblwiLCB7fSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkZWJ1Z2dlcjtcbiAgICAgICAgICAgICAgICBsYW5ncy5tYXAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYW5ndWFnZVwiKSA9PT0gXCJlc3BcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFc3Bhbm9sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBcImVzcFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9IMS5pbm5lclRleHQgPSBkYXRhLnF1aWVuZVNvbW9zLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9IMi5pbm5lclRleHQgPSBkYXRhLnF1aWVuZVNvbW9zLnBhcjE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVvdGUuaW5uZXJIVE1MID0gZGF0YS5xdWllbmVTb21vcy5xdW90ZUVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdob1dlQXJlQXJ0aWNsZS5pbm5lckhUTUwgPSBkYXRhLnF1aWVuZVNvbW9zLndob1dlQXJlQXJ0aWNsZUVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmNyZXRlQm94TGVmdC5pbm5lckhUTUwgPSBkYXRhLmNvbmNyZXRvLmJveExlZnRFcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25jcmV0ZUJveFJpZ2h0VGl0bGUuaW5uZXJIVE1MID0gZGF0YS5jb25jcmV0by5jb25jcmV0ZUJveFJpZ2h0VGl0bGVFcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25jcmV0b1RpdGxlLmlubmVySFRNTCA9IGRhdGEuY29uY3JldG8uY29uY3JldG9UaXRsZUVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRW5nbGlzaCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gXCJlbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvSDEuaW5uZXJUZXh0ID0gZGF0YS53aG9XZUFyZS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvSDIuaW5uZXJUZXh0ID0gZGF0YS53aG9XZUFyZS5wYXIxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlLmlubmVySFRNTCA9IGRhdGEud2hvV2VBcmUucXVvdGVFbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9XZUFyZUFydGljbGUuaW5uZXJIVE1MID0gZGF0YS53aG9XZUFyZS53aG9XZUFyZUFydGljbGVFbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25jcmV0ZUJveExlZnQuaW5uZXJIVE1MID0gZGF0YS5jb25jcmV0ZS5ib3hMZWZ0RW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uY3JldGVCb3hSaWdodFRpdGxlLmlubmVySFRNTCA9IGRhdGEuY29uY3JldGUuY29uY3JldGVCb3hSaWdodFRpdGxlRW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uY3JldG9UaXRsZS5pbm5lckhUTUwgPSBkYXRhLmNvbmNyZXRlLmNvbmNyZXRvVGl0bGVFbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxufVxuLy9Mb2FkIEdsb2JhbCBGdW5jdGlvblxubGV0IGxvYWRHbG9iYWxGdW5jdGlvbiA9ICgpID0+ICh3aW5kb3cuc3RhcnQgPSBuZXcgQXBwKCkpO1xubG9hZEdsb2JhbEZ1bmN0aW9uKCk7XG5cbiQoJy52aWRlb01vZGFsJykub24oJ2hpZGUuYnMubW9kYWwnLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyICRpZiA9ICQoZS5kZWxlZ2F0ZVRhcmdldCkuZmluZCgndmlkZW8nKTtcbiAgICB2YXIgc3JjID0gJGlmLmF0dHIoXCJzcmNcIik7XG4gICAgJGlmLmNzcygnb3BhY2l0eScsICcxJyk7XG4gICAgJGlmLmF0dHIoXCJzcmNcIiwgJ2ZpbGVzL2ltZy92aWRlby92aWRlb19tYWNyby5tcDQnKTtcbiAgICAkaWYuYXR0cihcInNyY1wiLCBzcmMpO1xufSk7Il19
